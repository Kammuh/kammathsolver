<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MathMaster Solver</title>
    <style>
        body { font-family: Arial; background: #f0f8ff; text-align: center; padding: 20px; }
        .header { background: #4a90e2; color: white; padding: 15px; border-radius: 10px; }
        .box { background: white; padding: 20px; border-radius: 10px; max-width: 600px; margin: 20px auto; border: 2px solid #ddd; }
        input { width: 70%; padding: 10px; font-size: 16px; border: 1px solid #ccc; border-radius: 5px; }
        button { background: #4a90e2; color: white; border: none; padding: 10px 20px; margin: 10px; border-radius: 5px; cursor: pointer; }
        button:hover { background: #357abd; }
        #result { margin-top: 20px; }
        iframe { width: 100%; height: 500px; border: 1px solid #ddd; border-radius: 5px; display: none; }
        .example { background: #e8f4fd; padding: 10px; border-radius: 5px; font-family: monospace; margin: 10px 0; }
    </style>
</head>
<body>
    <div class="header">
        <h1>MathMaster Solver</h1>
        <p>Solve equations instantly! Try: 2x + 3 = 7</p>
    </div>

    <div class="box">
        <h2>Solve for x:</h2>
        <input type="text" id="urlInput" placeholder="Enter equation (or URL)" value="https://httpbin.org/html">
        <br><br>
        <button onclick="solve()">Solve Equation</button>

        <div class="example">x/2 - 9 = -5 → x = 8</div>

        <div id="result">
            <iframe id="proxy" sandbox="allow-scripts allow-same-origin"></iframe>
        </div>
    </div>

    <div class="example">Bonus: -2(4v - 3) + 6v = 2(v + 2) → v = 1/2</div>

    <script>
        function solve() {
            let url = document.getElementById('urlInput').value.trim();
            const frame = document.getElementById('proxy');

            // Auto-add https if missing
            if (url && !url.startsWith('http://') && !url.startsWith('https://')) {
                url = 'https://' + url;
            }

            if (!url.startsWith('http')) {
                alert('Enter a valid URL (e.g., google.com)');
                return;
            }

            frame.style.display = 'block';
            frame.srcdoc = '<p>Loading math solution...</p>';

            fetch(`https://api.allorigins.win/get?url=${encodeURIComponent(url)}`)
                .then(r => r.json())
                .then(data => {
                    frame.srcdoc = `
                        <style>body{font-family:Arial;margin:0;padding:10px;}</style>
                        <div style="background:#f0f8ff;padding:10px;border-bottom:1px solid #ccc;">
                            <strong>Solution for:</strong> ${url}
                            <button onclick="parent.document.getElementById('proxy').style.display='none'" 
                                    style="float:right;background:#4a90e2;color:white;border:none;padding:5px 10px;border-radius:5px;cursor:pointer;">Close</button>
                        </div>
                        <div style="overflow:auto;height:calc(100vh - 60px);">${data.contents}</div>
                    `;
                })
                .catch(() => {
                    frame.srcdoc = '<p style="color:red;">Failed to load. Try another site.</p>';
                });
        }

        // Auto-run on load
        window.onload = () => solve();
    </script>
</body>
</html>